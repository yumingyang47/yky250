<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ‘©å¤©è½®ä¸ç²‰è‰²çˆ±å¿ƒçƒŸèŠ±</title>
<style>
body {
  margin: 0;
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background: #ffb7d5;
}

/* æŒ‰é’® */
#startBtn {
position: absolute;
left: 50%;
top: 50%;
transform: translate(-50%, -50%);
padding: 20px 120px;
font-size: 28px;
font-weight: 600;
color: white;
background: linear-gradient(135deg,#ff5f8e,#ff8ab4);
border-radius: 999px;
border: none;
cursor: pointer;
box-shadow: 0 12px 30px rgba(255,107,150,0.6);
z-index: 20;
transition: transform 0.3s ease;
}

#startBtn:hover {
transform: translate(-50%, -50%) scale(1.08);
box-shadow: 0 15px 40px rgba(255,107,150,0.8);
}

/* åœºæ™¯ */
#scene {
display: none;
width: 100vw;
height: 100vh;
position: fixed;
inset: 0;
background: #ffb7d5;
overflow: hidden;
}

/* æ‘©å¤©è½®å®¹å™¨ */
#wheel-container {
position: absolute;
width: 400px;
height: 400px;
left: 50%;
top: 50%;
transform: translate(-50%, -50%);
z-index: 10;
}

/* æ‘©å¤©è½®æ—‹è½¬éƒ¨åˆ† */
#wheel-rotating {
width: 100%;
height: 100%;
transform-origin: center;
}

/* å°èˆ±æ ·å¼ */
.cabin {
width: 43px;
height: 43px;
box-sizing: border-box;
background-color: #ffe3f7;
border: 4px solid #ff6bb5;
border-radius: 12px;
display: flex;
justify-content: center;
align-items: center;
box-shadow: 0 6px 15px rgba(255,107,181,0.4);
font-size: 18px;
color: #ff2d6a;
pointer-events: none;
}

/* çƒŸèŠ± canvas */
#fireworks {
position: fixed;
inset: 0;
z-index: 1;
pointer-events: none;
}

/* å›ºå®šæŸ±å­ */
#pillar {
position: absolute;
width: 12px;
height: 400px;
background: #5a7b9a;
left: 50%;
top: 50%;
transform: translateX(-50%) translateY(0px);
z-index: 5;
} </style>

</head>
<body>

<button id="startBtn">ç‚¹ä¸€ä¸‹ï¼Œæœ‰ä¸œè¥¿æƒ³ç»™ä½  ğŸ’—</button>

<div id="scene">
  <canvas id="fireworks"></canvas>

  <!-- å›ºå®šæ”¯æ’‘æŸ± -->

  <div id="pillar"></div>

  <!-- æ‘©å¤©è½®æ—‹è½¬éƒ¨åˆ† -->

  <div id="wheel-container">
    <svg viewBox="0 0 400 400" id="wheel-rotating">
      <circle cx="200" cy="200" r="180" stroke="#a6d8ff" stroke-width="8" fill="none" stroke-dasharray="5,5"/>
      <circle cx="200" cy="200" r="185" stroke="#87c3ff" stroke-width="3" fill="none"/>
      <g id="spokes"></g>
      <g id="cabins-group"></g>
      <circle cx="200" cy="200" r="18" fill="#5a7b9a"/>
      <circle cx="200" cy="200" r="10" fill="#fff"/>
      <circle cx="200" cy="200" r="5" fill="#ff6bb5"/>
    </svg>
  </div>
</div>

<script>
// æŒ‰é’®ç‚¹å‡»
const btn = document.getElementById("startBtn");
const scene = document.getElementById("scene");
btn.onclick = () => {
  btn.style.display = "none";
  scene.style.display = "block";
  createWheelCabins();
  startWheelRotation();
  startFireworks();
};

// åˆ›å»ºå°èˆ±å’Œè½®è¾
function createWheelCabins() {
  const group = document.getElementById("cabins-group");
  const spokes = document.getElementById("spokes");
  const center = 200;
  const radius = 180;
  const numCabins = 8;

  group.innerHTML = '';
  spokes.innerHTML = '';

  for (let i=0;i<numCabins;i++){
    const angle = (Math.PI*2*i)/numCabins;

    // åˆ›å»ºè½®è¾
    const line = document.createElementNS("http://www.w3.org/2000/svg","line");
    line.setAttribute("x1", center);
    line.setAttribute("y1", center);
    line.setAttribute("x2", center + radius*Math.cos(angle));
    line.setAttribute("y2", center + radius*Math.sin(angle));
    line.setAttribute("stroke","#ff6bb5");
    line.setAttribute("stroke-width","2");
    spokes.appendChild(line);

    // åˆ›å»ºå°èˆ±
    const x = center + radius*Math.cos(angle) - 23;
    const y = center + radius*Math.sin(angle) - 23;

    const foreign = document.createElementNS("http://www.w3.org/2000/svg","foreignObject");
    foreign.setAttribute("x",x);
    foreign.setAttribute("y",y);
    foreign.setAttribute("width",46);
    foreign.setAttribute("height",46);

    const div = document.createElement("div");
    div.classList.add("cabin");
    if(i===0) div.textContent = "â¤ï¸"; // ç‰¹æ®Šå°èˆ±åŠ çˆ±å¿ƒ
    foreign.appendChild(div);
    group.appendChild(foreign);
  }
}

// æ‘©å¤©è½®æ—‹è½¬
function startWheelRotation() {
  const wheel = document.getElementById("wheel-rotating");
  let deg = 90; // åˆå§‹è®©ç¬¬ä¸€ä¸ªå°èˆ±åœ¨æ­£ä¸‹æ–¹
  function rotate() {
    deg += 0.2;
    wheel.style.transform = `rotate(${deg}deg)`;
    requestAnimationFrame(rotate);
  }
  rotate();
}

// çˆ±å¿ƒæ–¹ç¨‹
function heartShape(t){
  return {x:16*Math.pow(Math.sin(t),3), y:-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))};
}

// çƒŸèŠ±
function startFireworks(){
  const canvas = document.getElementById("fireworks");
  const ctx = canvas.getContext("2d");
  function resize(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
  resize();
  window.onresize = resize;

  let particles = [];
  const fireworkDuration = 1500; // æ¯ä¸ªçƒŸèŠ±æŒç»­æ—¶é—´

  function createFirework(){
    particles = []; // æ¸…ç©ºä¸Šä¸€æ¬¡çƒŸèŠ±
    const x = Math.random() * canvas.width * 0.8 + canvas.width * 0.1;
    const y = Math.random() * canvas.height * 0.4 + 100;
    for(let i=0;i<180;i++){
      const t=(Math.PI*2)*(i/180);
      const h=heartShape(t);
      particles.push({
        x,y,
        vx:h.x*(Math.random()*0.5+0.6),
        vy:h.y*(Math.random()*0.5+Math.random()*0.6),
        alpha:1,
        size:2+Math.random()*3,
        decay:Math.random()*0.01+0.005,
        color:`hsl(${Math.random()*20+330},100%,${70+Math.random()*20}%)`
      });
    }

    setTimeout(createFirework, fireworkDuration);
  }

  function loop(){
    ctx.fillStyle="rgba(255,183,213,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    for(let i=particles.length-1;i>=0;i--){
      const p=particles[i];
      p.x+=p.vx*0.35;
      p.y+=p.vy*0.35;
      p.vy+=0.03;
      p.alpha-=p.decay;
      if(p.alpha<=0){particles.splice(i,1); continue;}
      ctx.globalAlpha=p.alpha;
      ctx.fillStyle=p.color;
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(loop);
  }

  createFirework();
  loop();
}
</script>

</body>
</html>
